<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="An introduction to k6 for performance testing and monitoring"><title>Performance testing with Grafana k6</title><link rel=canonical href=https://vivecuervo7.github.io/dev-blog/p/performance-testing-k6/><link rel=stylesheet href=/dev-blog/scss/style.min.b76e6febe05082f0b22ad4c28706b2a37cac056344f4ac3f6e4d653ab9e48217.css><meta property='og:title' content="Performance testing with Grafana k6"><meta property='og:description' content="An introduction to k6 for performance testing and monitoring"><meta property='og:url' content='https://vivecuervo7.github.io/dev-blog/p/performance-testing-k6/'><meta property='og:site_name' content='Isaac Dedini'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='k6'><meta property='article:tag' content='Grafana'><meta property='article:tag' content='Performance'><meta property='article:published_time' content='2024-10-20T00:00:00+00:00'><meta property='article:modified_time' content='2024-10-20T00:00:00+00:00'><meta property='og:image' content='https://vivecuervo7.github.io/dev-blog/p/performance-testing-k6/cover.jpg'><meta name=twitter:title content="Performance testing with Grafana k6"><meta name=twitter:description content="An introduction to k6 for performance testing and monitoring"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://vivecuervo7.github.io/dev-blog/p/performance-testing-k6/cover.jpg'><link rel="shortcut icon" href=/dev-blog/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/dev-blog/><img src=/dev-blog/img/avatar_hu_d49d25d3a05488f7.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/dev-blog>Isaac Dedini</a></h1><h2 class=site-description></h2></div></header><ol class=menu id=main-menu><li><a href=/dev-blog/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/dev-blog/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/dev-blog/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#grafana-k6>Grafana k6</a></li><li><a href=#getting-started>Getting started</a><ol><li><a href=#adding-virtual-users>Adding virtual users</a></li><li><a href=#adding-typescript>Adding typescript</a></li><li><a href=#test-output>Test output</a></li></ol></li><li><a href=#features>Features</a><ol><li><a href=#options>Options</a></li><li><a href=#test-lifecycle>Test lifecycle</a></li><li><a href=#scenarios>Scenarios</a></li><li><a href=#thresholds>Thresholds</a></li><li><a href=#metrics>Metrics</a></li><li><a href=#checks>Checks</a></li><li><a href=#categorisation>Categorisation</a></li></ol></li><li><a href=#misc>Misc</a><ol><li><a href=#openapi-integration>OpenAPI integration</a></li><li><a href=#test-authoring-tools>Test authoring tools</a></li><li><a href=#sample-repository>Sample repository</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/dev-blog/p/performance-testing-k6/><img src=/dev-blog/p/performance-testing-k6/cover_hu_1d200f6c7e924b39.jpg srcset="/dev-blog/p/performance-testing-k6/cover_hu_1d200f6c7e924b39.jpg 800w, /dev-blog/p/performance-testing-k6/cover_hu_c5ce9b00a4913561.jpg 1600w" width=800 height=502 loading=lazy alt="Featured image of post Performance testing with Grafana k6"></a></div><div class=article-details><header class=article-category><a href=/dev-blog/categories/testing/ style=background-color:#67a97f;color:#fff>Testing</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/dev-blog/p/performance-testing-k6/>Performance testing with Grafana k6</a></h2><h3 class=article-subtitle>An introduction to k6 for performance testing and monitoring</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Oct 20, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>11 minute read</time></div></footer></div></header><section class=article-content><p>A client I have worked for previously often provided us with a list of requirements for any solution we built. One of those was around performance, quoting a target average response time of under 2 seconds for all requests. More often than not this was tested late into the project via some third-party scripts, leaving us with little time to resolve any issues.</p><p>Having previously needed to work on improving performance on an API we had built elsewhere, I was interested in learning how we might be able to enhance our workflow to ensure we could meet such constraints, and that any degradation was caught early and could be resolved or at the very least communicated to the client.</p><h2 id=grafana-k6>Grafana k6</h2><p>Straight from the opening blurb of <a class=link href=https://grafana.com/docs/k6/latest/ target=_blank rel=noopener>the website</a>, k6 sounded like it would be the right tool for the job.</p><blockquote><p>Grafana k6 is an open-source, developer-friendly, and extensible load testing tool. k6 allows you to prevent performance issues and proactively improve reliability.</p></blockquote><p>It landed on all of the features I needed and more, and the documentation is superb, clearly explaining all the features with plenty of <a class=link href=https://grafana.com/docs/k6/latest/examples/ target=_blank rel=noopener>examples</a>. k6 also provides a list of <a class=link href=https://grafana.com/docs/k6/latest/extensions/ target=_blank rel=noopener>extensions</a> which looked pretty useful despite not finding myself needing any of them.</p><p><strong>Types of load tests</strong></p><p>The k6 documentation talks through the different supported <a class=link href=https://grafana.com/docs/k6/latest/testing-guides/test-types/ target=_blank rel=noopener>types of tests</a>.</p><ul><li><a class=link href=https://grafana.com/docs/k6/latest/testing-guides/test-types/smoke-testing/ target=_blank rel=noopener>Smoke tests</a> — minimal load</li><li><a class=link href=https://grafana.com/docs/k6/latest/testing-guides/test-types/load-testing/ target=_blank rel=noopener>Average-load tests</a> — normal conditions</li><li><a class=link href=https://grafana.com/docs/k6/latest/testing-guides/test-types/stress-testing/ target=_blank rel=noopener>Stress tests</a> — abnormal average</li><li><a class=link href=https://grafana.com/docs/k6/latest/testing-guides/test-types/soak-testing/ target=_blank rel=noopener>Soak tests</a> — reliability and performance over extended periods</li><li><a class=link href=https://grafana.com/docs/k6/latest/testing-guides/test-types/spike-testing/ target=_blank rel=noopener>Spike tests</a> — behavior and survival in cases of sudden increases in activity</li><li><a class=link href=https://grafana.com/docs/k6/latest/testing-guides/test-types/breakpoint-testing/ target=_blank rel=noopener>Breakpoint tests</a> — gradual increase to identify capacity limits</li></ul><p>Given the context above, much of my focus here was around average-load tests, however it was pleasant to find that through k6&rsquo;s scenarios it would be quite trivial to switch between load test types.</p><h2 id=getting-started>Getting started</h2><p>Getting up and running with k6 was very straightforward. I&rsquo;m using macOS, so the following commands might need to be adjusted for your system.</p><p>Install k6 with the following command.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>brew install k6
</span></span></code></pre></div><p>You can either create the file yourself or use the following to initialise a <code>script.js</code> file with some helpful commented-out code and explanations.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>k6 new
</span></span></code></pre></div><div class=code-hint-block><span class=code-hint-path></span><span class=code-hint>script.js</span></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>import</span> <span class=nx>http</span> <span class=nx>from</span> <span class=s2>&#34;k6/http&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>http</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s2>&#34;https://test.k6.io&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Run the tests!</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>k6 run script.js
</span></span></code></pre></div><h3 id=adding-virtual-users>Adding virtual users</h3><p>The number of virtual users and duration can be set via the command line, or via an exported <code>options</code> in <code>script.js</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>k6 run --vus <span class=m>10</span> --duration 30s script.js
</span></span></code></pre></div><div class=code-hint-block><span class=code-hint-path></span><span class=code-hint>script.js</span></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>import</span> <span class=nx>http</span> <span class=nx>from</span> <span class=s2>&#34;k6/http&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>options</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>vus</span><span class=o>:</span> <span class=mi>10</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>duration</span><span class=o>:</span> <span class=s2>&#34;30s&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>http</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s2>&#34;https://test.k6.io&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><div class=alert><p>The documentation covers some <a class=link href=https://grafana.com/docs/k6/latest/set-up/fine-tune-os/ target=_blank rel=noopener>fine-tuning for different operating systems</a>. Using macOS I didn&rsquo;t run into any of the problems mentioned in the docs, however I did encounter a persistent &ldquo;connection reset by peer&rdquo; error when trying to use a high number of virtual users.</p><p>Running <code>sudo sysctl -w kern.ipc.somaxconn={DESIRED_VALUE}</code> with an increased value allowed me to run previously failing tests with far higher concurrent users.</p></div><h3 id=adding-typescript>Adding typescript</h3><p>Fortunately we do have access to some typings to allow us to use typescript while building our test file(s).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>npm init
</span></span><span class=line><span class=cl>npm install -D @types/k6
</span></span></code></pre></div><p>Which allows us to import and use types such as the following. Don&rsquo;t forget to rename the file to <code>*.ts</code>!</p><div class=code-hint-block><span class=code-hint-path></span><span class=code-hint>script.ts</span></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>Options</span> <span class=p>}</span> <span class=kr>from</span> <span class=s2>&#34;k6/options&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>options</span>: <span class=kt>Options</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>vus</span>: <span class=kt>10</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>duration</span><span class=o>:</span> <span class=s2>&#34;30s&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>At this point, attempting to run the tests will lead to an error. We need to use k6&rsquo;s experimental enhanced compatibility mode. This can be supplied as a flag via command line, or we can add an npm script to our newly-created <code>package.json</code>.</p><div class=code-hint-block><span class=code-hint-path></span><span class=code-hint>package.json</span></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=s2>&#34;scripts&#34;</span><span class=err>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;test&#34;</span><span class=p>:</span> <span class=s2>&#34;k6 run script.ts --compatibility-mode=experimental_enhanced&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=test-output>Test output</h3><p>There are multiple outputs when running tests with k6 which can be explored <a class=link href=https://grafana.com/docs/k6/latest/results-output/ target=_blank rel=noopener>here</a>. The most useful of these I found was the web dashboard and generated HTML report, however there are also options to export a summary as CSV or JSON, or stream metrics to multiple services.</p><p>There is also an options to export a <code>handleSummary</code> function which can be used to customise the output of a test run.</p><p><strong>Web dashboard</strong></p><p>The bundled <a class=link href=https://grafana.com/docs/k6/latest/results-output/web-dashboard/ target=_blank rel=noopener>web dashboard</a> was very handy, and can also be used to <a class=link href=https://grafana.com/docs/k6/latest/results-output/web-dashboard/#generate-html-test-reports target=_blank rel=noopener>generate a report</a>.</p><p><img src=/dev-blog/p/performance-testing-k6/images/dashboard.jpg width=1360 height=563 srcset="/dev-blog/p/performance-testing-k6/images/dashboard_hu_3a7cf8d5663d8b3.jpg 480w, /dev-blog/p/performance-testing-k6/images/dashboard_hu_b4920eca42ab013e.jpg 1024w" loading=lazy alt="Screenshot of k6’s web dashboard" class=gallery-image data-flex-grow=241 data-flex-basis=579px></p><p>To launch the dashboard, we simply need to set the <code>K6_WEB_DASHBOARD</code> environment variable to <code>true</code>. There are options to change the port and such, but for the sake of brevity we&rsquo;ll just use the defaults which will serve the dashboard at <code>http://localhost:5665</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nv>K6_WEB_DASHBOARD</span><span class=o>=</span><span class=nb>true</span> k6 run script.js
</span></span></code></pre></div><p>Setting <code>K6_WEB_DASHBOARD_OPEN=true</code> will also cause the browser window to be opened automatically. From this page it is possible to save the report manually, although the likely more useful option — especially for CI/CD etc. is to simply tell k6 to output the report for us. Set <code>K6_WEB_DASHBOARD_EXPORT</code> to the name of the file you wish to output.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nv>K6_WEB_DASHBOARD</span><span class=o>=</span><span class=nb>true</span> <span class=nv>K6_WEB_DASHBOARD_EXPORT</span><span class=o>=</span><span class=s2>&#34;report.html&#34;</span> k6 run script.js
</span></span></code></pre></div><h2 id=features>Features</h2><p>Below are some of the most prominent features. More information can be found in the <a class=link href=https://grafana.com/docs/k6/latest/using-k6/ target=_blank rel=noopener>k6 documentation</a>.</p><h3 id=options>Options</h3><p><a class=link href=https://grafana.com/docs/k6/latest/using-k6/k6-options/ target=_blank rel=noopener>Options</a> can be provided to k6 via different means. Below is the priority order should multiple sources be provided. The more interesting thing to note is the ability to specify a <code>--config</code> flag which targets a file, allowing us to switch predefined options files easily.</p><ul><li>Default values</li><li>Configuration file specified via the <code>--config</code> flag</li><li>Script values</li><li>Environment variables</li><li>Command line flags</li></ul><h3 id=test-lifecycle>Test lifecycle</h3><p>k6 executes the test script in the following order.</p><ul><li>The optional <code>setup</code> function runs, setting up the test environment and generating data</li><li>The required default or scenario function, running for as long and as many times as the options define</li><li>The optional <code>teardown</code> function runs, cleaning up the test environment</li></ul><p>Data created in the <code>setup</code> function can be accessed via a <code>data</code> parameter in the default and <code>teardown</code> functions.</p><div class=code-hint-block><span class=code-hint-path></span><span class=code-hint>script.js</span></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>import</span> <span class=nx>http</span> <span class=nx>from</span> <span class=s2>&#34;k6/http&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kd>function</span> <span class=nx>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>res</span> <span class=o>=</span> <span class=nx>http</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s2>&#34;https://httpbin.test.k6.io/get&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>{</span> <span class=nx>data</span><span class=o>:</span> <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>()</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kd>function</span> <span class=nx>teardown</span><span class=p>(</span><span class=nx>data</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>data</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>data</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>data</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=scenarios>Scenarios</h3><p><a class=link href=https://grafana.com/docs/k6/latest/using-k6/scenarios/ target=_blank rel=noopener>Scenarios</a> give us the flexibility to mimic more realistic usage through more granular control over virtual users (VUs) and iteration scheduling patterns. Scenarios are defined in the <code>options</code> object, and can be used in place of the otherwise required <code>default</code> function.</p><div class=code-hint-block><span class=code-hint-path></span><span class=code-hint>script.js</span></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>options</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>scenarios</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>shared_iter_scenario</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>executor</span><span class=o>:</span> <span class=s2>&#34;shared-iterations&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>vus</span><span class=o>:</span> <span class=mi>10</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>iterations</span><span class=o>:</span> <span class=mi>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>startTime</span><span class=o>:</span> <span class=s2>&#34;0s&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>per_vu_scenario</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>executor</span><span class=o>:</span> <span class=s2>&#34;per-vu-iterations&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>vus</span><span class=o>:</span> <span class=mi>10</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>iterations</span><span class=o>:</span> <span class=mi>10</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>startTime</span><span class=o>:</span> <span class=s2>&#34;10s&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>http</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s2>&#34;https://test.k6.io/&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Executors</strong></p><p>The VU workload for each scenario is scheduled by an <a class=link href=https://grafana.com/docs/k6/latest/using-k6/scenarios/executors/ target=_blank rel=noopener>executor</a>, which configure how long the test runs for, and how workload is managed.</p><div class=table-wrapper><table><thead><tr><th>Value</th><th>Description</th></tr></thead><tbody><tr><td><code>shared-iterations</code></td><td>Fixed iterations shared between VUs</td></tr><tr><td><code>per-vu-iterations</code></td><td>Each VU executes an exact number of iterations</td></tr><tr><td><code>constant-vus</code></td><td>Fixed VUs execute as many iterations as possible for an amount of time</td></tr><tr><td><code>ramping-vus</code></td><td>Variable VUs execute as many iterations as possible for an amount of time</td></tr><tr><td><code>constant-arrival-rate</code></td><td>Fixed iterations are executed in a specified period of time</td></tr><tr><td><code>ramping-arrival-rate</code></td><td>Variable iterations are executed in a specified period of time</td></tr></tbody></table></div><h3 id=thresholds>Thresholds</h3><p><a class=link href=https://grafana.com/docs/k6/latest/using-k6/thresholds/ target=_blank rel=noopener>Thresholds</a> allow us to define parameters that we can measure <a class=link href=#metrics>metrics</a> against. Some examples of thresholds that can be defined are as follows. These can be incredibly useful in scenarios where we may want to either raise an alert against a live environment or fail a CI build. If any of the thresholds fail, k6 will exit with a non-zero exit code.</p><ul><li>Less than 1% of requests return an error</li><li>95% of requests have a response time below 200ms</li><li>99% of requests have a response time below 400ms</li><li>A specific endpoint always responds within 300ms</li></ul><div class=code-hint-block><span class=code-hint-path></span><span class=code-hint>script.js</span></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>import</span> <span class=nx>http</span> <span class=nx>from</span> <span class=s2>&#34;k6/http&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>options</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>thresholds</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>http_req_failed</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;rate&lt;0.01&#34;</span><span class=p>],</span> <span class=c1>// http errors should be less than 1%
</span></span></span><span class=line><span class=cl>    <span class=nx>http_req_duration</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;p(95)&lt;200&#34;</span><span class=p>],</span> <span class=c1>// 95% of requests should be below 200ms
</span></span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>http</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s2>&#34;https://test-api.k6.io/public/crocodiles/1/&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=metrics>Metrics</h3><p><a class=link href=https://grafana.com/docs/k6/latest/using-k6/metrics/ target=_blank rel=noopener>Metrics</a> measure how a system performs under test conditions. Metrics fall into four broad types:</p><ul><li><a class=link href=https://grafana.com/docs/k6/latest/javascript-api/k6-metrics/counter/ target=_blank rel=noopener>Counters</a> — sum values</li><li><a class=link href=https://grafana.com/docs/k6/latest/javascript-api/k6-metrics/gauge/ target=_blank rel=noopener>Gauges</a> — track the smallest, largest, and latest values</li><li><a class=link href=https://grafana.com/docs/k6/latest/javascript-api/k6-metrics/rate/ target=_blank rel=noopener>Rates</a> — track how frequently a non-zero value occurs</li><li><a class=link href=https://grafana.com/docs/k6/latest/javascript-api/k6-metrics/trend/ target=_blank rel=noopener>Trends</a> — calculates statistics for multiple values (mean, mode or percentile)</li></ul><p><strong>Built-in metrics</strong></p><p>k6 includes many <a class=link href=https://grafana.com/docs/k6/latest/using-k6/metrics/reference/ target=_blank rel=noopener>built-in metrics</a>. The list is quite long, so it&rsquo;s worth a skim through to learn what data is being collected by default.</p><p>Example built-in metrics:</p><ul><li><code>http_reqs</code> — total requests</li><li><code>http_req_failed</code> — error rate</li><li><code>http_req_duration</code> — request duration</li></ul><p><strong>Custom metrics</strong></p><p><a class=link href=https://grafana.com/docs/k6/latest/using-k6/metrics/create-custom-metrics/ target=_blank rel=noopener>Custom metrics</a> can be used to capture additional data points not covered by the built-in metrics. Below is an example of creating a custom metric.</p><div class=code-hint-block><span class=code-hint-path></span><span class=code-hint>script.js</span></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>import</span> <span class=nx>http</span> <span class=nx>from</span> <span class=s2>&#34;k6/http&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>Trend</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;k6/metrics&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>myTrend</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Trend</span><span class=p>(</span><span class=s2>&#34;waiting_time&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>r</span> <span class=o>=</span> <span class=nx>http</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s2>&#34;https://httpbin.test.k6.io&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>myTrend</span><span class=p>.</span><span class=nx>add</span><span class=p>(</span><span class=nx>r</span><span class=p>.</span><span class=nx>timings</span><span class=p>.</span><span class=nx>waiting</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>myTrend</span><span class=p>.</span><span class=nx>name</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Which will output something similar to the below.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-diff data-lang=diff><span class=line><span class=cl>iteration_duration.............: // omitted
</span></span><span class=line><span class=cl>iterations.....................: // omitted
</span></span><span class=line><span class=cl>waiting_time...................: avg=265.245396 min=265.245396 med=265.245396 max=265.245396 p(90)=265.245396 p(95)=265.245396
</span></span></code></pre></div><h3 id=checks>Checks</h3><p>Crossing more into the realm of functional testing, <a class=link href=https://grafana.com/docs/k6/latest/using-k6/checks/ target=_blank rel=noopener>checks</a> allow us to provide some assertions over the functionality of our tests. Failed checks do not directly result in a failed test, however they do produce metrics which can be combined with <a class=link href=#thresholds>thresholds</a>.</p><p>While there is a lot of potential crossover with functional testing, checks may be worth considering as a way to ensure that our tests are actually testing the whole functionality of an endpoint. For example, should we have a long-running database query triggered by an endpoint, we may wish to ensure that the HTTP request is actually performing the database call. If the database doesn&rsquo;t exist, we may find that an error is returned very quickly and without a check we may assume that the query ran to completion in under our threshold.</p><h3 id=categorisation>Categorisation</h3><p>To help you visualize, sort, and filter your test results, k6 provides tags and groups as ways to categorise entities.</p><p><strong>Tags</strong></p><p><a class=link href=https://grafana.com/docs/k6/latest/using-k6/tags-and-groups/#tags target=_blank rel=noopener>Tags</a> quite simply allow us to categorise the following entities. Some of these tags are built-in and applied by default, however custom tags can easily be applied where required. It is also possible to tag an entire test, enabling comparing test results from across separate test runs.</p><ul><li>Requests</li><li>Checks</li><li>Thresholds</li><li>Custom metrics</li></ul><p>With tags applied, the output of our test run looks something like this.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;type &#34;</span><span class=p>:</span> <span class=s2>&#34;Point &#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;data &#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;time &#34;</span><span class=p>:</span> <span class=s2>&#34;2017-05-09T14:34:45.239531499+02:00 &#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;value &#34;</span><span class=p>:</span> <span class=mf>459.865729</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;tags &#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;group &#34;</span><span class=p>:</span> <span class=s2>&#34;::my group::json &#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;method &#34;</span><span class=p>:</span> <span class=s2>&#34;GET &#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;status &#34;</span><span class=p>:</span> <span class=s2>&#34;200 &#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;url &#34;</span><span class=p>:</span> <span class=s2>&#34;https://httpbin.test.k6.io/get &#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;metric &#34;</span><span class=p>:</span> <span class=s2>&#34;http_req_duration &#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Groups</strong></p><p><a class=link href=https://grafana.com/docs/k6/latest/using-k6/tags-and-groups/#groups target=_blank rel=noopener>Groups</a> allow us to organise a load script by functions. These can be nested, and the test output will have a tag called <code>group</code> with all wrapping group names.</p><div class=code-hint-block><span class=code-hint-path></span><span class=code-hint>script.js</span></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>group</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;k6&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>group</span><span class=p>(</span><span class=s2>&#34;visit product listing page&#34;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=nx>group</span><span class=p>(</span><span class=s2>&#34;add several products to the shopping cart&#34;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=nx>group</span><span class=p>(</span><span class=s2>&#34;visit login page&#34;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=nx>group</span><span class=p>(</span><span class=s2>&#34;authenticate&#34;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=nx>group</span><span class=p>(</span><span class=s2>&#34;checkout process&#34;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=misc>Misc</h2><p>k6 offers a collection of other <a class=link href=https://grafana.com/docs/k6/latest/misc/integrations/ target=_blank rel=noopener>integrations and tools</a>, including links to examples or guides on things such as setting up a CI/CD pipeline with k6.</p><h3 id=openapi-integration>OpenAPI integration</h3><p>While probably not the most useful feature in practise, this may have some usefulness in very quickly setting up a test file as a starting point. <a class=link href=https://k6.io/blog/load-testing-your-api-with-swagger-openapi-and-k6/ target=_blank rel=noopener>This article</a> goes into more depth, but as a quick reference the following will generate a test script. However, the script itself will need to be cleaned up prior to being run.</p><p>Pull the container down.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>docker pull openapitools/openapi-generator-cli
</span></span></code></pre></div><p>Run the container, substituting the <code>-i</code> and <code>-o</code> flags for your respective input and output paths.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>docker run --rm -v <span class=s2>&#34;</span><span class=si>${</span><span class=nv>PWD</span><span class=si>}</span><span class=s2>:/local&#34;</span> openapitools/openapi-generator-cli generate <span class=se>\
</span></span></span><span class=line><span class=cl>    -i https://httpbin.test.k6.io/spec.json <span class=se>\
</span></span></span><span class=line><span class=cl>    -g k6 <span class=se>\
</span></span></span><span class=line><span class=cl>    -o /local/k6-test/ <span class=se>\
</span></span></span><span class=line><span class=cl>    --skip-validate-spec
</span></span></code></pre></div><p><strong>Generating swagger.json</strong></p><p>I was using a .NET Core API project, and to generate the <code>swagger.json</code> file the following steps were required.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>dotnet tool install swashbuckle.aspnetcore.cli
</span></span><span class=line><span class=cl>dotnet swagger tofile --output <span class=o>{</span>OUTPUT_PATH<span class=o>}</span> <span class=s2>&#34;{PATH_TO_PROJECT}/bin/Debug/net8.0/{PROJECT_NAME}.dll&#34;</span> v1
</span></span></code></pre></div><h3 id=test-authoring-tools>Test authoring tools</h3><p>While these looked promising I didn&rsquo;t look at either beyond reading the article, preferring to simply write the test scripts myself.</p><ul><li><a class=link href=https://grafana.com/docs/k6/latest/using-k6/test-authoring/test-builder/ target=_blank rel=noopener>Test builder</a></li><li><a class=link href=https://grafana.com/docs/k6/latest/using-k6/test-authoring/create-tests-from-recordings/using-the-browser-recorder/ target=_blank rel=noopener>Browser recorder</a></li></ul><h3 id=sample-repository>Sample repository</h3><p>There is a very light sample repository available on <a class=link href=https://github.com/vivecuervo7/k6-performance-testing target=_blank rel=noopener>GitHub</a> which includes a sample of the generated HTML report.</p></section><footer class=article-footer><section class=article-tags><a href=/dev-blog/tags/k6/>K6</a>
<a href=/dev-blog/tags/grafana/>Grafana</a>
<a href=/dev-blog/tags/performance/>Performance</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><div class="article-list--compact links"><article><a href=https://grafana.com/docs/k6/latest/ target=_blank rel=noopener><div class=article-details><h2 class=article-title>Grafana k6</h2><footer class=article-time>Documentation for Grafana k6</footer></div></a></article></div><footer class=site-footer><section class=copyright>&copy;
2024 -
2026 Isaac Dedini</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.27.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/dev-blog/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>